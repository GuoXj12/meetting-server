<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.example.yin.dao.WorkMapper" >

  <select id="WorkInfo" resultType="map">
    select *
    from WorkInfo
     where 1 = 1 and state = 1
    <if test="work_time != null and work_time!= '' " >
      and work_time like CONCAT('%','${work_time}','%' )
    </if>
     order by work_time desc
  </select>

  <insert id="insert">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into WorkInfo (work_time,
    work_topic,
    work_remake,state)
    values (#{work_time},#{work_topic},#{work_remake},1)
  </insert>

  <update id="deleteWork" parameterType="java.lang.Integer" >

    update WorkInfo
    <set>
      state = 0
    </set>
    where id = #{id}
  </update>


  <update id="updateWork" parameterType="java.util.Map">

    update WorkInfo
    <set>
        work_time = #{work_time},
        work_topic = #{work_topic},
        work_remake = #{work_remake}
    </set>
    where id = #{id}
  </update>
</mapper>
