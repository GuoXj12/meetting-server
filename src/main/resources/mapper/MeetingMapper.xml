<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.example.yin.dao.MeetingMapper" >

  <select id="MeetingInfo" resultType="map">
    select *
    from MeetingInfo
     where 1 = 1 and state = 1
    <if test="meeting_name != null and meeting_name!= '' " >
      and meeting_name like CONCAT('%','${meeting_name}','%' )
    </if>
   <if test="meeting_type != null and meeting_type != '' " >
      and meeting_type = #{meeting_type}
    </if>
    <if test="meeting_place != null and meeting_place != ''" >
      and  meeting_place = #{meeting_place}
    </if>
     order by meeting_time desc
  </select>

  <insert id="insert">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into MeetingInfo (meeting_type,
    meeting_name,
    meeting_topic,
    meeting_place,
    meeting_time,
    meeting_remake,
    create_time,
    state)
    values (#{meeting_type},#{meeting_name},#{meeting_topic},#{meeting_place},#{meeting_time},#{meeting_remake},#{create_time},1)
  </insert>

  <update id="deleteMeeting" parameterType="java.lang.Integer" >

    update MeetingInfo
    <set >
      state = 0

    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>


  <update id="updateMeeting" parameterType="com.example.yin.domain.Metting" >

    update MeetingInfo
    <set >
      <if test="meeting_name != null" >
        meeting_name = #{meeting_name,jdbcType=VARCHAR},
      </if>
      <if test="meeting_topic != null" >
        meeting_topic = #{meeting_topic,jdbcType=VARCHAR},
      </if>
      <if test="meeting_type != null" >
        meeting_type = #{meeting_type,jdbcType=VARCHAR},
      </if>
      <if test="meeting_place != null" >
        meeting_place = #{meeting_place,jdbcType=CHAR},
      </if>
      <if test="meeting_time != null" >
        meeting_time = #{meeting_time,jdbcType=TIMESTAMP},
      </if>
      <if test="meeting_remake != null" >
        meeting_remake = #{meeting_remake,jdbcType=VARCHAR},
      </if>
      <if test="update_time != null" >
        update_time = #{update_time,jdbcType=TIMESTAMP},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
</mapper>
