<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.example.yin.dao.WorkMapper" >

  <select id="WorkInfo" resultType="map">
    select *
    from WorkInfo
     where 1 = 1
    <if test="work_time != null and work_time!= '' " >
      and work_time like CONCAT('%','${work_time}','%' )
    </if>
     order by work_time desc
  </select>

  <insert id="insert">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into WorkInfo (work_time,
    work_topic,
    work_remake)
    values (#{work_time},#{work_topic},#{work_remake})
  </insert>

  <delete id="deleteWork" parameterType="java.lang.Integer" >

    delete from WorkInfo
    where id = #{id,jdbcType=INTEGER}
  </delete>


  <update id="updateWork">

    update WorkInfo
    <set >
      <if test="work_time != null" >
        work_time = #{work_time,jdbcType=VARCHAR},
      </if>
      <if test="work_topic != null" >
        work_topic = #{work_topic,jdbcType=VARCHAR},
      </if>
      <if test="work_remake != null" >
        work_remake = #{work_remake,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
</mapper>
